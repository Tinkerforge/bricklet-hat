EESchema Schematic File Version 2
LIBS:tinkerforge
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:hat-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title "HAT Bricklet"
Date "2018-06-26"
Rev "1.0"
Comp "Tinkerforge GmbH"
Comment1 "Licensed under CERN OHL v.1.1"
Comment2 "Copyright (Â©) 2018, B.Nordmeyer <bastian@tinkerforge.com>"
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 5750 6650 1000 1000
U 5B31E6A8
F0 "Power Supply" 60
F1 "power_supply.sch" 60
$EndSheet
Text GLabel 3250 5050 2    39   Output ~ 0
CHG-ACIN
Text GLabel 3250 5150 2    39   Output ~ 0
CHG-EN
Text GLabel 3250 5250 2    39   Output ~ 0
CHG-CHGLEV
Text GLabel 3250 4700 2    39   Input ~ 0
BATTERY-ALRT
Text GLabel 3250 4800 2    39   BiDi ~ 0
BATTERY-SDA
Text GLabel 3250 4900 2    39   Output ~ 0
BATTERY-SCL
Text GLabel 3250 5350 2    39   Input ~ 0
CHG-BLV1
Text GLabel 3250 5450 2    39   Input ~ 0
CHG-BLV2
Text GLabel 3250 5550 2    39   Input ~ 0
CHG-ACOK
Text GLabel 3250 5650 2    39   Input ~ 0
CHG-STAT3
Text GLabel 3250 5750 2    39   Input ~ 0
CHG-STAT2
Text GLabel 3250 5850 2    39   Input ~ 0
CHG-STAT1
Text GLabel 3250 5950 2    39   Output ~ 0
BOOST-EN
Text GLabel 3250 6050 2    39   Input ~ 0
DC-IN-VOLTAGE
Text GLabel 3250 6150 2    39   Input ~ 0
USB-IN-VOLTAGE
$Comp
L XMC1XXX48 U101
U 1 1 5B351B68
P 1200 1500
F 0 "U101" H 1050 2450 60  0000 C CNN
F 1 "XMC1404" H 1200 550 60  0000 C CNN
F 2 "kicad-libraries:QFN48-EP2" H 1350 1750 60  0001 C CNN
F 3 "" H 1350 1750 60  0000 C CNN
	1    1200 1500
	-1   0    0    -1  
$EndComp
$Comp
L XMC1XXX48 U101
U 2 1 5B351C5B
P 1200 3850
F 0 "U101" H 1050 4800 60  0000 C CNN
F 1 "XMC1404" H 1200 2900 60  0000 C CNN
F 2 "kicad-libraries:QFN48-EP2" H 1350 4100 60  0001 C CNN
F 3 "" H 1350 4100 60  0000 C CNN
	2    1200 3850
	-1   0    0    -1  
$EndComp
$Comp
L XMC1XXX48 U101
U 3 1 5B351D55
P 1200 5900
F 0 "U101" H 1050 6400 60  0000 C CNN
F 1 "XMC1404" H 1200 5400 60  0000 C CNN
F 2 "kicad-libraries:QFN48-EP2" H 1350 6150 60  0001 C CNN
F 3 "" H 1350 6150 60  0000 C CNN
	3    1200 5900
	-1   0    0    -1  
$EndComp
$Comp
L XMC1XXX48 U101
U 4 1 5B351E5E
P 3550 1200
F 0 "U101" H 3400 1850 60  0000 C CNN
F 1 "XMC1404" H 3550 250 60  0000 C CNN
F 2 "kicad-libraries:QFN48-EP2" H 3700 1450 60  0001 C CNN
F 3 "" H 3700 1450 60  0000 C CNN
	4    3550 1200
	-1   0    0    -1  
$EndComp
$Comp
L XMC1XXX48 U101
U 5 1 5B351FE8
P 3550 3400
F 0 "U101" H 3400 3850 60  0000 C CNN
F 1 "XMC1404" H 3550 2850 60  0000 C CNN
F 2 "kicad-libraries:QFN48-EP2" H 3700 3650 60  0001 C CNN
F 3 "" H 3700 3650 60  0000 C CNN
	5    3550 3400
	-1   0    0    -1  
$EndComp
$Comp
L Raspberry_Pi_2_3 J101
U 1 1 5B35250F
P 9050 3700
F 0 "J101" H 9750 2450 50  0000 C CNN
F 1 "Raspberry_Pi_2_3" H 8650 4600 50  0000 C CNN
F 2 "raspberrypi_hat" H 10050 4950 50  0001 C CNN
F 3 "" H 9100 3550 50  0001 C CNN
	1    9050 3700
	1    0    0    -1  
$EndComp
$Sheet
S 4600 6650 1000 1000
U 5B352770
F0 "Bricklets" 60
F1 "bricklets.sch" 60
$EndSheet
Text Notes 9450 5350 0    39   ~ 0
RASP GP ON/OFF
Text Notes 9450 5450 0    39   ~ 0
RASP MOSFET ON/OFF
Text Notes 9450 5550 0    39   ~ 0
Bricklet MOSFET ON/OFF
Text GLabel 10650 3250 2    39   Output ~ 0
B0-CS3
Text GLabel 10650 3350 2    39   Output ~ 0
B0-CS2
Text GLabel 10650 3450 2    39   Output ~ 0
B0-CS1
Text GLabel 7400 3200 0    39   Output ~ 0
B1-CS0
Text GLabel 7350 3000 0    39   Output ~ 0
B1-CS1
Text GLabel 7350 2800 0    39   Output ~ 0
B1-CS2
Text GLabel 7350 2700 0    39   Output ~ 0
B1-CS3
Text GLabel 7350 2900 0    39   Output ~ 0
B1-CS4
Text GLabel 10650 3900 2    39   Output ~ 0
B0-CLK
Text GLabel 10650 3800 2    39   Output ~ 0
B0-MOSI
Text GLabel 10650 3700 2    39   Input ~ 0
B0-MISO
Text GLabel 8300 750  1    39   Output ~ 0
B-5V
Text GLabel 10150 900  2    39   Output ~ 0
B-3V3
Text GLabel 7000 4400 0    39   Output ~ 0
RASP-SC
Text GLabel 7000 4500 0    39   BiDi ~ 0
RASP-SD
Text GLabel 3700 4450 0    39   Input ~ 0
RASP-SC
Text GLabel 3700 4550 0    39   BiDi ~ 0
RASP-SD
$Comp
L R_PACK4 RP101
U 1 1 5B363AF1
P 7100 4150
F 0 "RP101" H 7100 4600 50  0000 C CNN
F 1 "3.9k" H 7100 4100 50  0000 C CNN
F 2 "kicad-libraries:4X0402" H 7100 4150 50  0001 C CNN
F 3 "" H 7100 4150 50  0000 C CNN
	1    7100 4150
	0    1    1    0   
$EndComp
Wire Wire Line
	7000 4400 8150 4400
Wire Wire Line
	7000 4500 8150 4500
Wire Wire Line
	7150 4350 7150 4400
Connection ~ 7150 4400
Wire Wire Line
	7450 4350 7450 4500
Connection ~ 7450 4500
NoConn ~ 7250 4350
NoConn ~ 7350 4350
$Comp
L R_PACK4 RP105
U 1 1 5B36D7D0
P 10300 3550
F 0 "RP105" H 10300 4000 50  0000 C CNN
F 1 "82" H 10300 3750 50  0000 C CNN
F 2 "kicad-libraries:4X0402" H 10300 3550 50  0001 C CNN
F 3 "" H 10300 3550 50  0000 C CNN
	1    10300 3550
	-1   0    0    1   
$EndComp
Wire Wire Line
	9950 3900 10100 3900
Wire Wire Line
	9950 3800 10100 3800
Wire Wire Line
	9950 3700 10100 3700
Wire Wire Line
	10500 3700 10650 3700
Wire Wire Line
	10650 3800 10500 3800
Wire Wire Line
	10500 3900 10650 3900
Text GLabel 2350 2450 2    39   Input ~ 0
B1-CLK
Text GLabel 2350 2350 2    39   Input ~ 0
B1-MOSI
Text GLabel 2350 2250 2    39   Output ~ 0
B1-MISO
Text GLabel 10650 3600 2    39   Output ~ 0
B0-CS0
NoConn ~ 9950 4400
NoConn ~ 9950 4500
$Comp
L 3V3 #PWR101
U 1 1 5B36ED34
P 7300 3900
F 0 "#PWR101" H 7300 4000 40  0001 C CNN
F 1 "3V3" H 7300 4025 40  0000 C CNN
F 2 "" H 7300 3900 60  0000 C CNN
F 3 "" H 7300 3900 60  0000 C CNN
	1    7300 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 3950 7150 3900
Wire Wire Line
	7150 3900 7450 3900
Wire Wire Line
	7450 3900 7450 3950
Connection ~ 7300 3900
Wire Wire Line
	7350 3950 7350 3900
Connection ~ 7350 3900
Wire Wire Line
	7250 3950 7250 3900
Connection ~ 7250 3900
Text GLabel 2350 2700 2    39   Input ~ 0
B1-CS4
Text GLabel 2350 2900 2    39   Input ~ 0
B0-CLK
Text GLabel 7400 3500 0    39   Output ~ 0
B1-CLK
Text GLabel 7400 3400 0    39   Output ~ 0
B1-MOSI
Text GLabel 7400 3300 0    39   Input ~ 0
B1-MISO
$Comp
L R_PACK4 RP103
U 1 1 5B37482D
P 7750 3150
F 0 "RP103" H 7750 3600 50  0000 C CNN
F 1 "82" H 7750 3350 50  0000 C CNN
F 2 "kicad-libraries:4X0402" H 7750 3150 50  0001 C CNN
F 3 "" H 7750 3150 50  0000 C CNN
	1    7750 3150
	-1   0    0    1   
$EndComp
Wire Wire Line
	7400 3300 7550 3300
Wire Wire Line
	7400 3400 7550 3400
Wire Wire Line
	7550 3500 7400 3500
Wire Wire Line
	7950 3500 8150 3500
Wire Wire Line
	8150 3400 7950 3400
Wire Wire Line
	7950 3300 8150 3300
$Comp
L R_PACK4 RP104
U 1 1 5B375023
P 10300 3100
F 0 "RP104" H 10300 3050 50  0000 C CNN
F 1 "82" H 10300 3300 50  0000 C CNN
F 2 "kicad-libraries:4X0402" H 10300 3100 50  0001 C CNN
F 3 "" H 10300 3100 50  0000 C CNN
	1    10300 3100
	-1   0    0    1   
$EndComp
$Comp
L R_PACK4 RP102
U 1 1 5B3750A9
P 7750 2650
F 0 "RP102" H 7750 3100 50  0000 C CNN
F 1 "82" H 7750 2850 50  0000 C CNN
F 2 "kicad-libraries:4X0402" H 7750 2650 50  0001 C CNN
F 3 "" H 7750 2650 50  0000 C CNN
	1    7750 2650
	-1   0    0    1   
$EndComp
Wire Wire Line
	10650 3600 10500 3600
Wire Wire Line
	9950 3600 10100 3600
Wire Wire Line
	9950 3500 10050 3500
Wire Wire Line
	10050 3500 10050 3450
Wire Wire Line
	10050 3450 10100 3450
Wire Wire Line
	10500 3450 10650 3450
Wire Wire Line
	10650 3350 10500 3350
Wire Wire Line
	9950 3300 10050 3300
Wire Wire Line
	10050 3300 10050 3350
Wire Wire Line
	10050 3350 10100 3350
Wire Wire Line
	9950 3200 10050 3200
Wire Wire Line
	10050 3200 10050 3250
Wire Wire Line
	10050 3250 10100 3250
Wire Wire Line
	10500 3250 10650 3250
Wire Wire Line
	7950 3200 8150 3200
Wire Wire Line
	7550 3200 7400 3200
Wire Wire Line
	7350 3000 7550 3000
Wire Wire Line
	7350 2900 7550 2900
Wire Wire Line
	7950 3000 7950 3100
Wire Wire Line
	7950 3100 8150 3100
Wire Wire Line
	7950 2900 8000 2900
Wire Wire Line
	8000 2900 8000 3000
Wire Wire Line
	8000 3000 8150 3000
Wire Wire Line
	7950 2800 8050 2800
Wire Wire Line
	8050 2800 8050 3600
Wire Wire Line
	8050 3600 8150 3600
Wire Wire Line
	7950 2700 8100 2700
Wire Wire Line
	8100 2700 8100 3700
Wire Wire Line
	8100 3700 8150 3700
Wire Wire Line
	7550 2800 7350 2800
Wire Wire Line
	7350 2700 7550 2700
NoConn ~ 10100 3150
NoConn ~ 10500 3150
$Comp
L GND #PWR102
U 1 1 5B375DA1
P 9000 5150
F 0 "#PWR102" H 9000 5150 30  0001 C CNN
F 1 "GND" H 9000 5080 30  0001 C CNN
F 2 "" H 9000 5150 60  0000 C CNN
F 3 "" H 9000 5150 60  0000 C CNN
	1    9000 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8650 5000 8650 5100
Wire Wire Line
	8650 5100 9350 5100
Wire Wire Line
	9350 5100 9350 5000
Wire Wire Line
	9250 5000 9250 5100
Connection ~ 9250 5100
Wire Wire Line
	9150 5000 9150 5100
Connection ~ 9150 5100
Wire Wire Line
	9050 5000 9050 5100
Connection ~ 9050 5100
Wire Wire Line
	8950 5000 8950 5100
Connection ~ 8950 5100
Wire Wire Line
	8850 5000 8850 5100
Connection ~ 8850 5100
Wire Wire Line
	8750 5000 8750 5100
Connection ~ 8750 5100
Wire Wire Line
	9000 5150 9000 5100
Connection ~ 9000 5100
$Comp
L +5V #PWR?
U 1 1 5B37899C
P 7150 800
F 0 "#PWR?" H 7150 650 50  0001 C CNN
F 1 "+5V" H 7150 940 50  0000 C CNN
F 2 "" H 7150 800 50  0001 C CNN
F 3 "" H 7150 800 50  0001 C CNN
	1    7150 800 
	1    0    0    -1  
$EndComp
NoConn ~ 9150 2400
NoConn ~ 9250 2400
$Comp
L 3V3 #PWR?
U 1 1 5B37E484
P 1950 700
F 0 "#PWR?" H 1950 800 40  0001 C CNN
F 1 "3V3" H 1950 825 40  0000 C CNN
F 2 "" H 1950 700 60  0000 C CNN
F 3 "" H 1950 700 60  0000 C CNN
	1    1950 700 
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37E57D
P 9300 1400
F 0 "#PWR?" H 9300 1400 30  0001 C CNN
F 1 "GND" H 9300 1330 30  0001 C CNN
F 2 "" H 9300 1400 60  0000 C CNN
F 3 "" H 9300 1400 60  0000 C CNN
	1    9300 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37E601
P 1950 900
F 0 "#PWR?" H 1950 900 30  0001 C CNN
F 1 "GND" H 1950 830 30  0001 C CNN
F 2 "" H 1950 900 60  0000 C CNN
F 3 "" H 1950 900 60  0000 C CNN
	1    1950 900 
	1    0    0    -1  
$EndComp
$Comp
L LD1117 U?
U 1 1 5B37E9FB
P 9300 1100
F 0 "U?" H 9100 1600 60  0000 C CNN
F 1 "LD1117" H 9300 1400 60  0000 C CNN
F 2 "SOT-223" H 9300 1100 60  0001 C CNN
F 3 "" H 9300 1100 60  0000 C CNN
	1    9300 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9300 1400 9300 1300
$Comp
L C C?
U 1 1 5B37F271
P 8700 1100
F 0 "C?" H 8750 1200 50  0000 L CNN
F 1 "100nF" H 8750 1000 50  0000 L CNN
F 2 "C0603F" H 8700 1100 60  0001 C CNN
F 3 "" H 8700 1100 60  0000 C CNN
	1    8700 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37F495
P 8700 1400
F 0 "#PWR?" H 8700 1400 30  0001 C CNN
F 1 "GND" H 8700 1330 30  0001 C CNN
F 2 "" H 8700 1400 60  0000 C CNN
F 3 "" H 8700 1400 60  0000 C CNN
	1    8700 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8700 1400 8700 1300
Wire Wire Line
	8150 900  8900 900 
$Comp
L C C?
U 1 1 5B37F618
P 9850 1100
F 0 "C?" H 9900 1200 50  0000 L CNN
F 1 "10uF" H 9900 1000 50  0000 L CNN
F 2 "C1206" H 9850 1100 60  0001 C CNN
F 3 "" H 9850 1100 60  0000 C CNN
	1    9850 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37F6B0
P 9850 1400
F 0 "#PWR?" H 9850 1400 30  0001 C CNN
F 1 "GND" H 9850 1330 30  0001 C CNN
F 2 "" H 9850 1400 60  0000 C CNN
F 3 "" H 9850 1400 60  0000 C CNN
	1    9850 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 900  10150 900 
Wire Wire Line
	9850 1300 9850 1400
Connection ~ 9850 900 
$Comp
L C C?
U 1 1 5B37F8B8
P 8400 1100
F 0 "C?" H 8450 1200 50  0000 L CNN
F 1 "10uF" H 8450 1000 50  0000 L CNN
F 2 "C1206" H 8400 1100 60  0001 C CNN
F 3 "" H 8400 1100 60  0000 C CNN
	1    8400 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37F92B
P 8400 1400
F 0 "#PWR?" H 8400 1400 30  0001 C CNN
F 1 "GND" H 8400 1330 30  0001 C CNN
F 2 "" H 8400 1400 60  0000 C CNN
F 3 "" H 8400 1400 60  0000 C CNN
	1    8400 1400
	1    0    0    -1  
$EndComp
Connection ~ 8700 900 
Wire Wire Line
	8300 750  8300 900 
Connection ~ 8400 900 
Wire Wire Line
	8400 1400 8400 1300
Connection ~ 8300 900 
Wire Wire Line
	7150 800  7150 900 
$Comp
L C C?
U 1 1 5B37FDC9
P 7150 1100
F 0 "C?" H 7200 1200 50  0000 L CNN
F 1 "10uF" H 7200 1000 50  0000 L CNN
F 2 "C1206" H 7150 1100 60  0001 C CNN
F 3 "" H 7150 1100 60  0000 C CNN
	1    7150 1100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B37FE55
P 7150 1400
F 0 "#PWR?" H 7150 1400 30  0001 C CNN
F 1 "GND" H 7150 1330 30  0001 C CNN
F 2 "" H 7150 1400 60  0000 C CNN
F 3 "" H 7150 1400 60  0000 C CNN
	1    7150 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 1400 7150 1300
Connection ~ 7150 900 
$Comp
L MOSFET_P_CH Q?
U 1 1 5B37FF34
P 7950 1000
F 0 "Q?" V 7800 1200 50  0000 R CNN
F 1 "NTR2101P" V 8200 1200 50  0000 R CNN
F 2 "kicad-libraries:SOT23GDS" H 8150 1100 50  0001 C CNN
F 3 "" H 7950 1000 50  0000 C CNN
	1    7950 1000
	0    1    -1   0   
$EndComp
$Comp
L INDUCTs L?
U 1 1 5B3801CB
P 7600 900
F 0 "L?" V 7680 900 50  0000 C CNN
F 1 "FB" V 7500 900 50  0000 C CNN
F 2 "R0603F" H 7600 900 60  0001 C CNN
F 3 "" H 7600 900 60  0000 C CNN
	1    7600 900 
	0    1    1    0   
$EndComp
$Comp
L MOSFET_N_CH Q?
U 1 1 5B38041A
P 7850 1550
F 0 "Q?" H 8150 1600 50  0000 R CNN
F 1 "2N7002P" H 8400 1400 50  0000 R CNN
F 2 "kicad-libraries:SOT23GDS" H 8050 1650 50  0001 C CNN
F 3 "" H 7850 1550 50  0000 C CNN
	1    7850 1550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B38053B
P 7950 1800
F 0 "#PWR?" H 7950 1800 30  0001 C CNN
F 1 "GND" H 7950 1730 30  0001 C CNN
F 2 "" H 7950 1800 60  0000 C CNN
F 3 "" H 7950 1800 60  0000 C CNN
	1    7950 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 1800 7950 1750
Wire Wire Line
	7950 1200 7950 1350
$Comp
L Rs R?
U 1 1 5B380707
P 7750 1100
F 0 "R?" V 7800 1100 31  0000 C CNN
F 1 "10k" V 7750 1100 31  0000 C CNN
F 2 "R0603F" H 7750 1100 60  0001 C CNN
F 3 "" H 7750 1100 60  0000 C CNN
	1    7750 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	7750 900  7750 1000
Wire Wire Line
	7950 1200 7750 1200
Connection ~ 7950 1200
Connection ~ 7750 900 
Wire Wire Line
	8850 2200 8850 2400
Wire Wire Line
	8950 2000 8950 2400
Connection ~ 8850 2200
$Comp
L C C?
U 1 1 5B381025
P 9150 2000
F 0 "C?" V 9000 1950 50  0000 L CNN
F 1 "100nF" V 9300 1900 50  0000 L CNN
F 2 "C0603F" H 9150 2000 60  0001 C CNN
F 3 "" H 9150 2000 60  0000 C CNN
	1    9150 2000
	0    1    1    0   
$EndComp
$Comp
L GND #PWR?
U 1 1 5B3810DF
P 9350 2050
F 0 "#PWR?" H 9350 2050 30  0001 C CNN
F 1 "GND" H 9350 1980 30  0001 C CNN
F 2 "" H 9350 2050 60  0000 C CNN
F 3 "" H 9350 2050 60  0000 C CNN
	1    9350 2050
	1    0    0    -1  
$EndComp
Connection ~ 8950 2200
Wire Wire Line
	9350 2000 9350 2050
$Comp
L INDUCTs L?
U 1 1 5B381518
P 7600 2100
F 0 "L?" V 7680 2100 50  0000 C CNN
F 1 "FB" V 7500 2100 50  0000 C CNN
F 2 "R0603F" H 7600 2100 60  0001 C CNN
F 3 "" H 7600 2100 60  0000 C CNN
	1    7600 2100
	0    1    1    0   
$EndComp
Wire Wire Line
	7750 900  7700 900 
Wire Wire Line
	7150 900  7500 900 
Wire Wire Line
	7400 900  7400 2100
Wire Wire Line
	7400 2100 7500 2100
Connection ~ 7400 900 
Text GLabel 7600 1550 0    39   Input ~ 0
B-EN
Text GLabel 2500 1950 0    39   Output ~ 0
B-EN
$EndSCHEMATC
